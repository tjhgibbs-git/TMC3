execute store result score @s upgrades run data get storage mole:checks upgrades.molechest
scoreboard players set $upgraded upgrades 1
scoreboard players set $success upgrades 0


execute if score @s upgrades matches 1 if score @s up_points matches 1.. run item replace entity @s weapon.mainhand with golden_chestplate{display:{Name:'{"text":"-= Glimmerscale Chestplate =-","color":"#AB2020","bold":true,"italic":false}',Lore:['{"text":" ","color":"white","bold":false,"italic":false}','{"text":"The chestplate shines with","color":"dark_gray","bold":false,"italic":true}','{"text":"a glint like the morning sun.","color":"dark_gray","bold":false,"italic":true}','{"text":"Its metal feels soft and","color":"dark_gray","bold":false,"italic":true}','{"text":"malleable to the touch","color":"dark_gray","bold":false,"italic":true}','{"text":" ","color":"white","bold":false,"italic":false}','{"text":"Upgradable Item","color":"#DEB900","bold":false,"italic":false}','{"text":" ","color":"white","bold":false,"italic":false}','{"text":"When on Body:","color":"gray","bold":false,"italic":false}','{"text":"+5 Armor","color":"blue","bold":false,"italic":false}']},HideFlags:6,Unbreakable:1b,upgrades:2,molechest:2,Enchantments:[{id:"minecraft:protection",lvl:1s},{id:"minecraft:thorns",lvl:1s}]}
execute if score @s upgrades matches 1 if score @s up_points matches 0 run tellraw @s {"text":"You don't have enough points to upgrade this yet!","bold":true,"color":"red"}
execute if score @s upgrades matches 1 if score @s up_points matches 1.. run scoreboard players set $success upgrades 1
execute if score @s upgrades matches 1 if score @s up_points matches 1.. run scoreboard players set @s up_chest 2
execute if score @s upgrades matches 1 if score @s up_points matches 1.. run scoreboard players operation @s up_points -= $cost upgrades

execute if score @s upgrades matches 2 if score @s up_points matches 2.. run item replace entity @s weapon.mainhand with chainmail_chestplate{display:{Name:'{"text":"-= Scaled Chestplate =-","color":"#AB2020","bold":true,"italic":false}',Lore:['{"text":" ","color":"white","bold":false,"italic":false}','{"text":"The material feels reptilian","color":"dark_gray","bold":false,"italic":true}','{"text":"to the touch, stronger than","color":"dark_gray","bold":false,"italic":true}','{"text":"it was before and with","color":"dark_gray","bold":false,"italic":true}','{"text":"a more malevolent aura","color":"dark_gray","bold":false,"italic":true}','{"text":" ","color":"white","bold":false,"italic":false}','{"text":"Upgradable Item","color":"#DEB900","bold":false,"italic":false}','{"text":" ","color":"white","bold":false,"italic":false}','{"text":"When on Body:","color":"gray","bold":false,"italic":false}','{"text":"+5 Armor","color":"blue","bold":false,"italic":false}']},HideFlags:6,Unbreakable:1b,upgrades:3,molechest:3,Enchantments:[{id:"minecraft:protection",lvl:2s},{id:"minecraft:thorns",lvl:2s}]}
execute if score @s upgrades matches 2 if score @s up_points matches 0..1 run tellraw @s {"text":"You don't have enough points to upgrade this yet!","bold":true,"color":"red"}
execute if score @s upgrades matches 2 if score @s up_points matches 2.. run scoreboard players set $success upgrades 1
execute if score @s upgrades matches 2 if score @s up_points matches 2.. run scoreboard players set @s up_chest 3
execute if score @s upgrades matches 2 if score @s up_points matches 2.. run scoreboard players operation @s up_points -= $cost upgrades

execute if score @s upgrades matches 3 if score @s up_points matches 3.. run item replace entity @s weapon.mainhand with iron_chestplate{display:{Name:'{"text":"-= Reinforced Chestplate =-","color":"#AB2020","bold":true,"italic":false}',Lore:['{"text":" ","color":"white","bold":false,"italic":false}','{"text":"The flexible scales fall","color":"dark_gray","bold":false,"italic":true}','{"text":"away and reveal a cold steel","color":"dark_gray","bold":false,"italic":true}','{"text":"beneath, unrecognisable from","color":"dark_gray","bold":false,"italic":true}','{"text":"the once tattered cloth","color":"dark_gray","bold":false,"italic":true}','{"text":" ","color":"white","bold":false,"italic":false}','{"text":"Upgradable Item","color":"#DEB900","bold":false,"italic":false}','{"text":" ","color":"white","bold":false,"italic":false}','{"text":"When on Body:","color":"gray","bold":false,"italic":false}','{"text":"+6 Armor","color":"blue","bold":false,"italic":false}','{"text":"+1 Armor Toughness","color":"blue","bold":false,"italic":false}']},HideFlags:6,Unbreakable:1b,upgrades:4,molechest:4,Enchantments:[{id:"minecraft:protection",lvl:3s},{id:"minecraft:thorns",lvl:1s}],AttributeModifiers:[{AttributeName:"generic.armor_toughness",Name:"generic.armor_toughness",Amount:1,Operation:0,UUID:[I;-1343376733,-2014166834,-1759535755,-1000353910]},{AttributeName:"generic.armor",Name:"generic.armor",Amount:6,Operation:0,UUID:[I;577503416,1302220723,-1262782049,-402245364]}]}
execute if score @s upgrades matches 3 if score @s up_points matches 0..2 run tellraw @s {"text":"You don't have enough points to upgrade this yet!","bold":true,"color":"red"}
execute if score @s upgrades matches 3 if score @s up_points matches 3.. run scoreboard players set $success upgrades 1
execute if score @s upgrades matches 3 if score @s up_points matches 3.. run scoreboard players set @s up_chest 4
execute if score @s upgrades matches 3 if score @s up_points matches 3.. run scoreboard players operation @s up_points -= $cost upgrades

execute if score @s upgrades matches 4 if score @s up_points matches 4.. run item replace entity @s weapon.mainhand with diamond_chestplate{display:{Name:'{"text":"-= Glistening Chestplate =-","color":"#AB2020","bold":true,"italic":false}',Lore:['{"text":" ","color":"white","bold":false,"italic":false}','{"text":"The steel has taken on","color":"dark_gray","bold":false,"italic":true}','{"text":"a shimmering azure hue,","color":"dark_gray","bold":false,"italic":true}','{"text":"a sight which has filled","color":"dark_gray","bold":false,"italic":true}','{"text":"many adventurers with envy","color":"dark_gray","bold":false,"italic":true}','{"text":" ","color":"white","bold":false,"italic":false}','{"text":"Fully Upgraded","color":"#DEB900","bold":false,"italic":false}','{"text":" ","color":"white","bold":false,"italic":false}','{"text":"When on Body:","color":"gray","bold":false,"italic":false}','{"text":"+8 Armor","color":"blue","bold":false,"italic":false}','{"text":"+2 Armor Toughness","color":"blue","bold":false,"italic":false}','{"text":"Provides Sustenance","color":"blue","bold":false,"italic":false}']},HideFlags:6,Unbreakable:1b,upgrades:5,molechest:5,mole_chest:1,Enchantments:[{id:"minecraft:protection",lvl:3s},{id:"minecraft:fire_protection",lvl:3s}],AttributeModifiers:[{AttributeName:"generic.armor_toughness",Name:"generic.armor_toughness",Amount:2,Operation:0,UUID:[I;988223228,289752083,-1169436430,1845758040]},{AttributeName:"generic.armor",Name:"generic.armor",Amount:8,Operation:0,UUID:[I;460684059,863060348,-1812943220,925780480]}]}
execute if score @s upgrades matches 4 if score @s up_points matches 0..3 run tellraw @s {"text":"You don't have enough points to upgrade this yet!","bold":true,"color":"red"}
execute if score @s upgrades matches 4 if score @s up_points matches 4.. run scoreboard players set $success upgrades 1
execute if score @s upgrades matches 4 if score @s up_points matches 4.. run scoreboard players set @s up_chest 5
execute if score @s upgrades matches 4 if score @s up_points matches 4.. run scoreboard players operation @s up_points -= $cost upgrades


execute if score @s upgrades matches 5 run tellraw @s {"text":"Item fully upgraded!","bold":true,"color":"dark_purple"}