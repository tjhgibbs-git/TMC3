execute store result score @s upgrades run data get storage mole:checks upgrades.molepick
scoreboard players set $upgraded upgrades 1
scoreboard players set $success upgrades 0

execute if score @s upgrades matches 1 if score @s up_points matches 1.. run item replace entity @s weapon.mainhand with stone_pickaxe{display:{Name:'{"text":"-= Granite Pickaxe =-","color":"#AB2020","bold":true,"italic":false}',Lore:['{"text":" ","color":"white","bold":false,"italic":false}','{"text":"The head feels heavier","color":"dark_gray","bold":false,"italic":true}','{"text":"than a usual stone tool,","color":"dark_gray","bold":false,"italic":true}','{"text":"but its weight aids the","color":"dark_gray","bold":false,"italic":true}','{"text":"speed of its task","color":"dark_gray","bold":false,"italic":true}','{"text":" ","color":"white","bold":false,"italic":false}','{"text":"Upgradable Item","color":"#DEB900","bold":false,"italic":false}','{"text":" ","color":"white","bold":false,"italic":false}']},HideFlags:6,Unbreakable:1b,upgrades:2,molepick:2,Enchantments:[{id:"minecraft:efficiency",lvl:2s},{id:"minecraft:fortune",lvl:2s}]}
execute if score @s upgrades matches 1 if score @s up_points matches 0 run tellraw @s {"text":"You don't have enough points to upgrade this yet!","bold":true,"color":"red"}
execute if score @s upgrades matches 1 if score @s up_points matches 1.. run scoreboard players set $success upgrades 1
execute if score @s upgrades matches 1 if score @s up_points matches 1.. run scoreboard players set @s up_pick 2
execute if score @s upgrades matches 1 if score @s up_points matches 1.. run scoreboard players operation @s up_points -= $cost upgrades

execute if score @s upgrades matches 2 if score @s up_points matches 2.. run item replace entity @s weapon.mainhand with iron_pickaxe{display:{Name:'{"text":"-= Steel Pickaxe =-","color":"#AB2020","bold":true,"italic":false}',Lore:['{"text":" ","color":"white","bold":false,"italic":false}','{"text":"Cold, hard and efficient","color":"dark_gray","bold":false,"italic":true}','{"text":"this is not a tool that","color":"dark_gray","bold":false,"italic":true}','{"text":"shies away from a task","color":"dark_gray","bold":false,"italic":true}','{"text":" ","color":"white","bold":false,"italic":false}','{"text":"Upgradable Item","color":"#DEB900","bold":false,"italic":false}','{"text":" ","color":"white","bold":false,"italic":false}','{"text":"When in Mainhand:","color":"gray","bold":false,"italic":false}','{"text":"+1 Armor Toughness","color":"blue","bold":false,"italic":false}']},HideFlags:6,Unbreakable:1b,upgrades:3,molepick:3,Enchantments:[{id:"minecraft:efficiency",lvl:2s},{id:"minecraft:fortune",lvl:1s}],AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:3.5,Operation:0,UUID:[I;1225786300,2145928363,-1424174240,1674363728],Slot:"mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:-2.8,Operation:0,UUID:[I;-1739879837,328090678,-1904735706,-86946243]},{AttributeName:"generic.armor_toughness",Name:"generic.armor_toughness",Amount:1,Operation:0,UUID:[I;27088987,803622901,-1905247620,666009253]}]}
execute if score @s upgrades matches 2 if score @s up_points matches 0..1 run tellraw @s {"text":"You don't have enough points to upgrade this yet!","bold":true,"color":"red"}
execute if score @s upgrades matches 2 if score @s up_points matches 2.. run scoreboard players set $success upgrades 1
execute if score @s upgrades matches 2 if score @s up_points matches 2.. run scoreboard players set @s up_pick 3
execute if score @s upgrades matches 2 if score @s up_points matches 2.. run scoreboard players operation @s up_points -= $cost upgrades

execute if score @s upgrades matches 3 if score @s up_points matches 3.. run item replace entity @s weapon.mainhand with diamond_pickaxe{display:{Name:'{"text":"-= Bluesteel Pickaxe =-","color":"#AB2020","bold":true,"italic":false}',Lore:['{"text":" ","color":"white","bold":false,"italic":false}','{"text":"It has a warmer glow","color":"dark_gray","bold":false,"italic":true}','{"text":"than before, with a","color":"dark_gray","bold":false,"italic":true}','{"text":"mischievous aura that","color":"dark_gray","bold":false,"italic":true}','{"text":"emanates from the metal","color":"dark_gray","bold":false,"italic":true}','{"text":" ","color":"white","bold":false,"italic":false}','{"text":"Fully Upgraded","color":"#DEB900","bold":false,"italic":false}','{"text":" ","color":"white","bold":false,"italic":false}','{"text":"When in Mainhand:","color":"gray","bold":false,"italic":false}','{"text":"+10% Speed","color":"blue","bold":false,"italic":false}','{"text":"Inflicts wither upon nearby","color":"blue","bold":false,"italic":false}','{"text":" enemies when breaking spawners","color":"blue","bold":false,"italic":false}']},HideFlags:6,Unbreakable:1b,upgrades:4,molepick:4,mole_mh:4,Enchantments:[{id:"minecraft:efficiency",lvl:3s},{id:"minecraft:fortune",lvl:1s},{id:"minecraft:knockback",lvl:2s}],AttributeModifiers:[{AttributeName:"generic.attack_damage",Name:"generic.attack_damage",Amount:5.5,Operation:0,UUID:[I;-981555272,170019932,-1837323558,-751182919],Slot:"mainhand"},{AttributeName:"generic.attack_speed",Name:"generic.attack_speed",Amount:-2.8,Operation:0,UUID:[I;2132549262,287000732,-1240969650,-954580079]},{AttributeName:"generic.movement_speed",Name:"generic.movement_speed",Amount:0.1,Operation:1,UUID:[I;238271494,305220908,-1390776806,1582493933]}]}
execute if score @s upgrades matches 3 if score @s up_points matches 0..2 run tellraw @s {"text":"You don't have enough points to upgrade this yet!","bold":true,"color":"red"}
execute if score @s upgrades matches 3 if score @s up_points matches 3.. run scoreboard players set $success upgrades 1
execute if score @s upgrades matches 3 if score @s up_points matches 3.. run scoreboard players set @s up_pick 4
execute if score @s upgrades matches 3 if score @s up_points matches 3.. run scoreboard players operation @s up_points -= $cost upgrades

execute if score @s upgrades matches 4 run tellraw @s {"text":"Item fully upgraded!","bold":true,"color":"dark_purple"}
