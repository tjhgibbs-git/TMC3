execute store result score @s upgrades run data get storage mole:checks upgrades.molehelm
scoreboard players set $upgraded upgrades 1
scoreboard players set $success upgrades 0

execute if score @s upgrades matches 1 if score @s up_points matches 1.. run item replace entity @s weapon.mainhand with chainmail_helmet{display:{Name:'{"text":"-= Chainlink Helm =-","color":"#AB2020","bold":true,"italic":false}',Lore:['{"text":" ","color":"white","bold":false,"italic":false}','{"text":"The iron links woven into","color":"dark_gray","bold":false,"italic":true}','{"text":"the cloth have toughened it.","color":"dark_gray","bold":false,"italic":true}','{"text":"The magic in the cloth feels","color":"dark_gray","bold":false,"italic":true}','{"text":"stronger than before","color":"dark_gray","bold":false,"italic":true}','{"text":" ","color":"white","bold":false,"italic":false}','{"text":"Upgradable Item","color":"#DEB900","bold":false,"italic":false}','{"text":" ","color":"white","bold":false,"italic":false}','{"text":"When on Head:","color":"gray","bold":false,"italic":false}','{"text":"+2 Armor","color":"blue","bold":false,"italic":false}']},HideFlags:6,Unbreakable:1b,Damage:0,molehelm:2,upgrades:2,Enchantments:[{id:"minecraft:protection",lvl:1s},{id:"minecraft:fire_protection",lvl:1s},{id:"minecraft:blast_protection",lvl:1s},{id:"minecraft:projectile_protection",lvl:1s}]}
execute if score @s upgrades matches 1 if score @s up_points matches 0 run tellraw @s {"text":"You don't have enough points to upgrade this yet!","bold":true,"color":"red"}
execute if score @s upgrades matches 1 if score @s up_points matches 1.. run scoreboard players set $success upgrades 1
execute if score @s upgrades matches 1 if score @s up_points matches 1.. run scoreboard players set @s up_helm 2
execute if score @s upgrades matches 1 if score @s up_points matches 1.. run scoreboard players operation @s up_points -= $cost upgrades

execute if score @s upgrades matches 2 if score @s up_points matches 2.. run item replace entity @s weapon.mainhand with iron_helmet{display:{Name:'{"text":"-= Reinforced Helm =-","color":"#AB2020","bold":true,"italic":false}',Lore:['{"text":" ","color":"white","bold":false,"italic":false}','{"text":"The magic has further hardened the","color":"dark_gray","bold":false,"italic":true}','{"text":"cloth, no longer recognisable","color":"dark_gray","bold":false,"italic":true}','{"text":"from the tattered wrags that","color":"dark_gray","bold":false,"italic":true}','{"text":"held their place before","color":"dark_gray","bold":false,"italic":true}','{"text":" ","color":"white","bold":false,"italic":false}','{"text":"Upgradable Item","color":"#DEB900","bold":false,"italic":false}','{"text":" ","color":"white","bold":false,"italic":false}','{"text":"When on Head:","color":"gray","bold":false,"italic":false}','{"text":"+2 Armor","color":"blue","bold":false,"italic":false}','{"text":"Gain Haste upon breaking","color":"blue","bold":false,"italic":false}','{"text":" a spawner","color":"blue","bold":false,"italic":false}']},HideFlags:6,Unbreakable:1b,upgrades:3,molehelm:3,mole_helm:1,Enchantments:[{id:"minecraft:protection",lvl:3s},{id:"minecraft:respiration",lvl:2s},{id:"minecraft:aqua_affinity",lvl:1s}]}
execute if score @s upgrades matches 2 if score @s up_points matches 0..1 run tellraw @s {"text":"You don't have enough points to upgrade this yet!","bold":true,"color":"red"}
execute if score @s upgrades matches 2 if score @s up_points matches 2.. run scoreboard players set $success upgrades 1
execute if score @s upgrades matches 2 if score @s up_points matches 2.. run scoreboard players set @s up_helm 3
execute if score @s upgrades matches 2 if score @s up_points matches 2.. run scoreboard players operation @s up_points -= $cost upgrades

execute if score @s upgrades matches 3 if score @s up_points matches 3.. run item replace entity @s weapon.mainhand with diamond_helmet{display:{Name:'{"text":"-= Glistening Helm =-","color":"#AB2020","bold":true,"italic":false}',Lore:['{"text":" ","color":"white","bold":false,"italic":false}','{"text":"The metal has become further","color":"dark_gray","bold":false,"italic":true}','{"text":"imbued with the magic of the","color":"dark_gray","bold":false,"italic":true}','{"text":"realm, lending deadly force","color":"dark_gray","bold":false,"italic":true}','{"text":"to your attacks","color":"dark_gray","bold":false,"italic":true}','{"text":" ","color":"white","bold":false,"italic":false}','{"text":"Fully Upgraded","color":"#DEB900","bold":false,"italic":false}','{"text":" ","color":"white","bold":false,"italic":false}','{"text":"When on Head:","color":"gray","bold":false,"italic":false}','{"text":"+3 Armor","color":"blue","bold":false,"italic":false}','{"text":"+2 Armor Toughness","color":"blue","bold":false,"italic":false}','{"text":"+10% Attack Damage","color":"blue","bold":false,"italic":false}','{"text":"Gain Strength upon","color":"blue","bold":false,"italic":false}','{"text":" killing an enemy","color":"blue","bold":false,"italic":false}']},HideFlags:6,Unbreakable:1b,upgrades:4,molehelm:4,mole_helm:2,Enchantments:[{id:"minecraft:protection",lvl:3s},{id:"minecraft:respiration",lvl:3s},{id:"minecraft:aqua_affinity",lvl:1s}],AttributeModifiers:[    {AttributeName:"generic.armor_toughness",Name:"generic.armor_toughness",Amount:2,Operation:0,UUID:[I;128561379,429870407,-1597596788,-540115171]},    {AttributeName:"generic.armor",Name:"generic.armor",Amount:3,Operation:0,UUID:[I;-735892721,-1076411648,-1449735344,103555412]},    {AttributeName:"generic.max_health",Name:"generic.max_health",Amount:1,Operation:0,UUID:[I;1714192103,-267108325,-1160300732,471318036]}]}
execute if score @s upgrades matches 3 if score @s up_points matches 0..2 run tellraw @s {"text":"You don't have enough points to upgrade this yet!","bold":true,"color":"red"}
execute if score @s upgrades matches 3 if score @s up_points matches 3.. run scoreboard players set $success upgrades 1
execute if score @s upgrades matches 3 if score @s up_points matches 3.. run scoreboard players set @s up_helm 4
execute if score @s upgrades matches 3 if score @s up_points matches 3.. run scoreboard players operation @s up_points -= $cost upgrades

execute if score @s upgrades matches 4 run tellraw @s {"text":"Item fully upgraded!","bold":true,"color":"dark_purple"}
